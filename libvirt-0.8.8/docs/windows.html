<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
        This file is autogenerated from windows.html.in
        Do not edit this file. Changes will be lost.
      -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="SHORTCUT ICON" href="32favicon.png" />
    <title>libvirt: Windows support</title>
    <meta name="description" content="libvirt, virtualization, virtualization API" />
  </head>
  <body>
    <div id="header">
      <div id="headerLogo"></div>
      <div id="headerSearch">
        <form action="search.php" enctype="application/x-www-form-urlencoded" method="get"><div>
            <input id="query" name="query" type="text" size="12" value="" />
            <input id="submit" name="submit" type="submit" value="Search" />
          </div></form>
      </div>
    </div>
    <div id="body">
      <div id="menu">
        <ul class="l0"><li>
            <div>
              <a title="Front page of the libvirt website" class="inactive" href="index.html">Home</a>
            </div>
          </li><li>
            <div>
              <a title="Details of new features and bugs fixed in each release" class="inactive" href="news.html">News</a>
            </div>
          </li><li>
            <div>
              <a title="Applications known to use libvirt" class="inactive" href="apps.html">Applications</a>
            </div>
          </li><li>
            <div>
              <a title="Get the latest source releases, binary builds and get access to the source repository" class="active" href="downloads.html">Downloads</a>
              <ul class="l1"><li>
                  <div>
                    <span class="active">Windows</span>
                  </div>
                </li><li>
                  <div>
                    <a title="Bindings of the libvirt API for languages other than C" class="inactive" href="bindings.html">Language bindings</a>
                  </div>
                </li></ul>
            </div>
          </li><li>
            <div>
              <a title="Information for users, administrators and developers" class="active" href="docs.html">Documentation</a>
              <ul class="l1"><li>
                  <div>
                    <a title="How to compile libvirt" class="inactive" href="compiling.html">Compiling</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Information about deploying and using libvirt" class="active" href="deployment.html">Deployment</a>
                    <ul class="l2"><li>
                        <div>
                          <a title="The URI formats used for connecting to libvirt" class="inactive" href="uri.html">URI format</a>
                        </div>
                      </li><li>
                        <div>
                          <a title="Enable remote access over TCP" class="inactive" href="remote.html">Remote access</a>
                        </div>
                      </li><li>
                        <div>
                          <a title="Configure authentication for the libvirt daemon" class="inactive" href="auth.html">Authentication</a>
                        </div>
                      </li><li>
                        <div>
                          <span class="active">Windows port</span>
                        </div>
                      </li><li>
                        <div>
                          <a title="The library and the daemon logging support" class="inactive" href="logging.html">Logging</a>
                        </div>
                      </li><li>
                        <div>
                          <a title="Firewall and network filter configuration" class="inactive" href="firewall.html">Firewall</a>
                        </div>
                      </li><li>
                        <div>
                          <a title="Hooks for system specific management" class="inactive" href="hooks.html">Hooks</a>
                        </div>
                      </li></ul>
                  </div>
                </li><li>
                  <div>
                    <a title="Overview of the logical subsystems in the libvirt API" class="inactive" href="intro.html">Architecture</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Description of the XML formats used in libvirt" class="inactive" href="format.html">XML format</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Hypervisor specific driver information" class="inactive" href="drivers.html">Drivers</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Reference manual for the C public API" class="inactive" href="html/index.html">API reference</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Bindings of the libvirt API for other languages" class="inactive" href="bindings.html">Language bindings</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Working on the internals of libvirt API, driver and daemon code" class="inactive" href="internals.html">Internals</a>
                  </div>
                </li><li>
                  <div>
                    <a title="A guide and reference for developing with libvirt" class="inactive" href="devguide.html">Development Guide</a>
                  </div>
                </li><li>
                  <div>
                    <a title="Command reference for virsh" class="inactive" href="virshcmdref.html">Virsh Commands</a>
                  </div>
                </li></ul>
            </div>
          </li><li>
            <div>
              <a title="User contributed content" class="inactive" href="http://wiki.libvirt.org">Wiki</a>
            </div>
          </li><li>
            <div>
              <a title="Frequently asked questions" class="inactive" href="http://wiki.libvirt.org/page/FAQ">FAQ</a>
            </div>
          </li><li>
            <div>
              <a title="How and where to report bugs and request features" class="inactive" href="bugs.html">Bug reports</a>
            </div>
          </li><li>
            <div>
              <a title="How to contact the developers via email and IRC" class="inactive" href="contact.html">Contact</a>
            </div>
          </li><li>
            <div>
              <a title="Miscellaneous links of interest related to libvirt" class="inactive" href="relatedlinks.html">Related Links</a>
            </div>
          </li><li>
            <div>
              <a title="Overview of all content on the website" class="inactive" href="sitemap.html">Sitemap</a>
            </div>
          </li></ul>
      </div>
      <div id="content">
        <h1>Windows support</h1>
        <ul><li>
            <a href="#installer">Experimental installation package</a>
            <ul><li>
                <a href="#caveats">Caveats</a>
              </li><li>
                <a href="#knowninstallerprobs">Existing problems with this installer we know about</a>
              </li></ul>
          </li><li>
            <a href="#conntypes">Connection types</a>
          </li><li>
            <a href="#esx">Connecting to VMware ESX/vSphere</a>
          </li><li>
            <a href="#tlscerts">TLS Certificates</a>
          </li><li>
            <a href="#feedback">Feedback</a>
          </li><li>
            <a href="#compiling">Compiling yourself</a>
            <ul><li>
                <a href="#msys_setup">MSYS Build script</a>
              </li><li>
                <a href="#cross-compile">Cross compiling</a>
              </li><li>
                <a href="#configure">By hand</a>
              </li></ul>
          </li></ul>
        <p>
      Libvirt is known to work as a client (not server) on Windows XP
      (32-bit), and Windows 7 (64-bit).  Other Windows variants likely work
      as well but we either haven't tested or received reports for them.
    </p>
        <h2>
          <a name="installer" id="installer">Experimental installation package</a>
        </h2>
        <p>
      A windows installation package is in development.  An experimental
      version is available here:
    </p>
        <a href="http://libvirt.org/sources/win32_experimental/Libvirt-0.8.7-2.exe">http://libvirt.org/sources/win32_experimental/Libvirt-0.8.7-2.exe</a>
        <p>
      <b>It is not production ready.</b>
    </p>
        <p>
      This version includes the libvirt development headers and libraries
      for compiling against, the virsh shell with its needed dependencies,
      and untested Python bindings.
    </p>
        <h3>
          <a name="caveats" id="caveats">Caveats</a>
        </h3>
        <ul><li>
        This installer just repackages the files compiled using Matthias
        Bolte's msys_setup scripting (described below).
      </li><li>
        This is a .exe installer, created using NSIS.  We're looking into
        something to create .msi installers as well.
      </li><li>
        The script for the NSIS installer is available online
        <a href="https://github.com/justinclift/nsis_libvirt_installer">here</a>.
      </li></ul>
        <h3><a name="knowninstallerprobs" id="knowninstallerprobs">Existing problems with this installer we know about</a>

    </h3>
        <p>
      These are problems we know about, and need to be fixed in subsequent
      versions of the installer (assistance welcomed):
    </p>
        <ul><li>
        New versions install over other libvirt versions
        <br /><br />
        If a version of this installer has installed libvirt on the system
        already, this installer will automatically suggest the same
        installation location, then overwrite the version already there
        without checking.
        <br /><br />
        This is fairly non-optimal, and should be fixed.  What should
        probably happen, is for this installer to detect an existing
        installation then offer to either uninstall it first or ask for a
        new installation location.
        <br /><br /></li><li>
        Start menu shortcuts aren't being removed at uninstall time
        <br /><br />
        Not sure why yet.  Needs to be investigated.
        <br /><br /></li></ul>
        <h2>
          <a name="conntypes" id="conntypes">Connection types</a>
        </h2>
        <p>
      These connection types are known to work:
    </p>
        <ul><li>QEMU with TLS (qemu+tls://)</li><li>QEMU with direct TCP (qemu+tcp://)</li><li>VMware ESX (esx://)</li><li>VMware VPX (vpx://)</li></ul>
        <p>
      These connection types are known not to work:
    </p>
        <ul><li>QEMU with SSH (qemu+ssh://)</li></ul>
        <p>
      All other connection types may or may not work, and haven't been
      tested.
    </p>
        <p>
      Please let us know either the results (either way) if you do.
    </p>
        <p>
      <b>Special note</b> - Support for VirtualBox *on windows* was added in
      libvirt 0.8.7, so reports on success and failure if you're using that
      would be really helpful and appreciated.
    </p>
        <p>
      <b>WARNING - The qemu+tcp:// connection type passes all traffic
      without encryption.  This is a security hazard, and should <i>not</i>
      be used in security sensitive environments.</b>
    </p>
        <h2>
          <a name="esx" id="esx">Connecting to VMware ESX/vSphere</a>
        </h2>
        <p>
      Details on the capabilities, certificates, and connection string
      syntax used for connecting to VMware ESX and vSphere can be found
      online here:<br /></p>
        <a href="http://libvirt.org/drvesx.html">http://libvirt.org/drvesx.html</a>
        <h2>
          <a name="tlscerts" id="tlscerts">TLS Certificates</a>
        </h2>
        <p>
      TLS certificates need to have been created and placed in the correct
      locations, before you will be able to connect to QEMU servers over
      TLS.
    </p>
        <p>
      Information on generating TLS certificates can be found here:
    </p>
        <a href="http://wiki.libvirt.org/page/TLSSetup">http://wiki.libvirt.org/page/TLSSetup</a>
        <p>
      These instructions are for *nix, and have not yet been adapted for
      Windows.  You'll need to figure out the Windows equivalents until
      that's done (sorry).  If you can help us out with this, that would be
      really welcome.
    </p>
        <p>
      The locations of the TLS certificates and key file on Windows are hard
      coded, rather than being configurable.
    </p>
        <p>
      The Certificate Authority (CA) certificate file must be placed in:
    </p>
        <ul><li>%APPDATA%\libvirt\pki\CA\cacert.pem</li></ul>
        <p>
      The Client certificate file must be placed in:
    </p>
        <ul><li>%APPDATA%\libvirt\pki\libvirt\clientcert.pem</li></ul>
        <p>
      The Client key file must be placed in:
    </p>
        <ul><li>%APPDATA%\libvirt\pki\libvirt\private\clientkey.pem</li></ul>
        <p>
      On an example Windows 7 x64 system here, this resolves to these paths:
    </p>
        <ul><li>C:\Users\someuser\AppData\Roaming\libvirt\pki\CA\cacert.pem</li><li>C:\Users\someuser\AppData\Roaming\libvirt\pki\libvirt\clientcert.pem</li><li>C:\Users\someuser\AppData\Roaming\libvirt\pki\libvirt\private\clientkey.pem</li></ul>
        <h2>
          <a name="feedback" id="feedback">Feedback</a>
        </h2>
        <p>
      Feedback and suggestions on changes to make and what else to include
      <a href="contact.html">are desired</a>.
    </p>
        <h2>
          <a name="compiling" id="compiling">Compiling yourself</a>
        </h2>
        <p>
      Libvirt can be compiled on Windows using the free
      <a href="http://www.mingw.org/">MinGW compiler</a>.
    </p>
        <h3>
          <a name="msys_setup" id="msys_setup">MSYS Build script</a>
        </h3>
        <p>
      The easiest way is to use the <b>msys_setup</b> script, developed by
      Matthias Bolte.  This is actively developed and kept current with
      libvirt releases:
    </p>
        <a href="https://github.com/photron/msys_setup">https://github.com/photron/msys_setup</a>
        <h3>
          <a name="cross-compile" id="cross-compile">Cross compiling</a>
        </h3>
        <p>
      You can also cross-compile to a Windows target from a Fedora machine
      using the packages available
      <a href="http://hg.et.redhat.com/misc/fedora-mingw--devel/">from the Fedora MinGW project</a>
      (which includes a working libvirt specfile).
    </p>
        <h3>
          <a name="configure" id="configure">By hand</a>
        </h3>
        <p>
      Use these options when following the instructions on the
      <a href="compiling.html">Compiling</a> page.
    </p>
        <pre>
./configure \
  --without-sasl \
  --without-avahi \
  --without-polkit \
  --without-python \
  --without-xen \
  --without-qemu \
  --without-lxc \
  --without-openvz \
  --without-libvirtd
</pre>
      </div>
    </div>
    <div id="footer">
      <p id="sponsor">
	    Sponsored by:<br /><a href="http://et.redhat.com/"><img src="et.png" alt="Project sponsored by Red Hat Emerging Technology" /></a></p>
    </div>
  </body>
</html>
